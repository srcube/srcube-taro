# 产品需求文档：@srcube-taro/ui Button 组件

## 1. 简介

使用 TaroJS 构建应用的开发者需要一个强大且灵活的 Button 组件。虽然 `@tarojs/components` 提供了原生 Button，但它缺乏高级功能、一致的主题化能力，以及在复杂场景（如处理加载状态或跨平台一致样式）下的易用性。

本文档概述了 `@srcube-taro/ui` 库中新 Button 组件的需求。该组件将基于标准 Taro button 构建，提供更强大、可定制且对开发者友好的体验，确保 UI 一致性并减少样板代码。

## 2. 目标

*   **提供一致的 API：** 为开发者提供清晰且可预测的属性集合。
*   **简化主题化和定制：** 允许开发者轻松更改按钮外观以匹配应用的设计系统。
*   **处理常见用例：** 原生支持 `loading`、`disabled` 和按钮内图标等状态。
*   **改善开发者体验：** 减少实现常见按钮功能所需的代码量。
*   **支持按钮组：** 提供 `ButtonGroup` 组件，轻松管理一组相关按钮的布局和共享属性。

## 3. 目标用户

*   **用户画像：** 前端和全栈开发者
*   **角色：** 使用 TaroJS 框架构建移动或 Web 应用的开发者。
*   **需求和痛点：**
    *   需要快速高效地构建 UI。
    *   在应用的不同部分保持一致样式方面存在困难。
    *   为常见 UI 模式（如处理按钮加载状态）编写样板代码花费太多时间。
    *   希望组件易于使用、文档完善，且足够灵活以适应特定设计需求。

## 4. 成功指标

*   **采用率：** 至少 80% 的新项目/功能在需要按钮时使用该组件。
*   **开发者满意度：** 通过代码审查、团队聊天或简单调查获得开发者的积极反馈。目标满意度评分为 4/5 或更高。
*   **减少样板代码：** 在功能开发中实现按钮所需的代码行数可衡量地减少。
*   **低错误率：** 发布后前 3 个月内报告的关键错误少于 2 个。

## 5. 功能和需求

### 功能 1：基础按钮
*   **需求 1.1：** 组件应渲染原生 Taro 按钮。
*   **需求 1.2：** 应接受 `children` 属性以在按钮内显示文本或其他元素。
*   **需求 1.3：** 应处理 `onTap` 事件。

### 功能 2：样式和变体
*   **需求 2.1：** 按钮必须支持多种 `variant` 样式（如 `solid`、`bordered`、`ghost`）。
*   **需求 2.2：** 按钮必须支持不同的 `color` 主题（如 `primary`、`secondary`、`danger`）。
*   **需求 2.3：** 按钮必须支持不同的 `size` 选项（如 `sm`、`md`、`lg`）。

### 功能 3：状态
*   **需求 3.1：** 按钮必须有 `disabled` 状态，阻止交互并在视觉上表明其处于非活动状态。
*   **需求 3.2：** 按钮必须有 `loading` 状态，显示加载器并禁用按钮。

### 功能 4：内容增强
*   **需求 4.1：** 按钮应允许在主文本之前（`startContent`）或之后（`endContent`）添加图标或其他内容。

### 功能 5：按钮组
*   **需求 5.1：** 应创建 `ButtonGroup` 组件以将多个按钮组合在一起。
*   **需求 5.2：** `ButtonGroup` 应控制其内部按钮的布局和间距。
*   **需求 5.3：** `ButtonGroup` 可以向所有子按钮传递共享属性（如 `size` 或 `variant`）。

## 6. 超出范围

*   **复杂动画：** 超出标准悬停/按压效果的高级动画。
*   **带进度指示器的异步操作：** 为长时间运行的任务显示进度条的按钮。
*   **分割按钮：** 具有两个独立可点击区域的按钮（如主操作和下拉菜单）。
*   **与表单库集成：** 与特定表单管理库的直接内置集成。

## 7. 待解决问题

*   在不同小程序平台上是否有需要注意的特定性能考虑？
*   `onTap` 处理程序是否应自动处理 `Promise` 拒绝，还是应该留给开发者处理？
*   当按钮具有冲突属性时（如组上有 `size` 而按钮上有不同的 `size`），`ButtonGroup` 的期望行为是什么？

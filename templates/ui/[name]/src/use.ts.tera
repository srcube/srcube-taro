---
to: '{{ name }}/src/use.ts'
---

import type { ReactRef } from '@srcube-taro/utils-react'
import type { NativeProps } from '@srcube-taro/utils-taro'
import type { ViewProps } from '@tarojs/components'
import { useDOMRef } from '@srcube-taro/utils-react'
import { useCallback } from 'react'

interface Props {
  /**
   * Ref to the DOM element
   */
  ref?: ReactRef
}

export type Use{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}Props = Props &
  Omit<NativeProps<ViewProps>, ''>

export function use{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}(props: Use{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}Props) {
  const { ref, children, className, ...rest } = props

  const domRef = useDOMRef(ref)

  const get{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}Props = useCallback(() => {
    return {
      ...rest
    }
  }, [rest])

  return {
    domRef,
    children,
    get{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}Props,
  }
}

export type Use{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}Return = ReturnType<typeof use{{ name | replace(from="-", to=" ") | title | replace(from=" ", to="") }}>
